<section class="task-list-page" aria-label="Task management">
  <!-- Page Header -->
  <div class="task-list-page__header">
    <h1 class="task-list-page__title">Tasks</h1>
    <app-custom-button
      label="+ New Task"
      variant="primary"
      aria-label="Create a new task"
      (clicked)="openCreateDialog()"
    />
  </div>

  <!-- Filters Toolbar -->
  <app-task-filters [filters]="store.filters()" (filtersChange)="onFiltersChange($any($event))" />

  <!-- Loading State -->
  @if (store.isLoading()) {
    <app-skeleton-table aria-label="Loading task list..." />
  } @else if (store.error()) {
    <p class="task-list-page__error" role="alert">Failed to load tasks. Please try again.</p>
  } @else {
    <!-- Task Table -->
    <app-task-table
      [tasks]="store.tasks()"
      [total]="store.total()"
      [currentPage]="store.pagination().page"
      [pageSize]="store.pagination().pageSize"
      (taskSelected)="openDetailDialog($any($event))"
      (pageChange)="onPageChange($any($event))"
    />
  }
</section>
